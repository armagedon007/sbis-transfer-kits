# ğŸ—ï¸ ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° Docker Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ

## Ğ¡Ñ…ĞµĞ¼Ğ° Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Browser                              â”‚
â”‚                    http://localhost:8000                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Docker Container                          â”‚
â”‚                      (php-app)                               â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                    Nginx :8000                         â”‚ â”‚
â”‚  â”‚                                                        â”‚ â”‚
â”‚  â”‚  ĞœĞ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ:                                       â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚ GET /                                            â”‚ â”‚ â”‚
â”‚  â”‚  â”‚   â†’ /var/www/html/frontend/index.html           â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚ GET /style.css, /app.js                         â”‚ â”‚ â”‚
â”‚  â”‚  â”‚   â†’ /var/www/html/frontend/[file]               â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚ GET/POST /backend/api/*.php                     â”‚ â”‚ â”‚
â”‚  â”‚  â”‚   â†’ PHP-FPM :9000                               â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                       â”‚                                      â”‚
â”‚                       â–¼                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                 PHP-FPM :9000                          â”‚ â”‚
â”‚  â”‚                                                        â”‚ â”‚
â”‚  â”‚  PHP 7.4 + Extensions:                                â”‚ â”‚
â”‚  â”‚  â€¢ curl                                               â”‚ â”‚
â”‚  â”‚  â€¢ json                                               â”‚ â”‚
â”‚  â”‚  â€¢ dom                                                â”‚ â”‚
â”‚  â”‚  â€¢ mbstring                                           â”‚ â”‚
â”‚  â”‚                                                        â”‚ â”‚
â”‚  â”‚  ĞĞ±Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°ĞµÑ‚:                                        â”‚ â”‚
â”‚  â”‚  â€¢ /var/www/html/backend/api/warehouses.php          â”‚ â”‚
â”‚  â”‚  â€¢ /var/www/html/backend/api/kits.php                â”‚ â”‚
â”‚  â”‚  â€¢ /var/www/html/backend/api/products.php            â”‚ â”‚
â”‚  â”‚  â€¢ /var/www/html/backend/api/documents.php           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                  File System                           â”‚ â”‚
â”‚  â”‚                                                        â”‚ â”‚
â”‚  â”‚  /var/www/html/                                       â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ backend/                                         â”‚ â”‚
â”‚  â”‚  â”‚   â”œâ”€â”€ api/                                         â”‚ â”‚
â”‚  â”‚  â”‚   â”‚   â”œâ”€â”€ warehouses.php                           â”‚ â”‚
â”‚  â”‚  â”‚   â”‚   â”œâ”€â”€ kits.php                                 â”‚ â”‚
â”‚  â”‚  â”‚   â”‚   â”œâ”€â”€ products.php                             â”‚ â”‚
â”‚  â”‚  â”‚   â”‚   â””â”€â”€ documents.php                            â”‚ â”‚
â”‚  â”‚  â”‚   â”œâ”€â”€ services/                                    â”‚ â”‚
â”‚  â”‚  â”‚   â”‚   â””â”€â”€ SbisService.php                          â”‚ â”‚
â”‚  â”‚  â”‚   â””â”€â”€ config.php                                   â”‚ â”‚
â”‚  â”‚  â””â”€â”€ frontend/                                        â”‚ â”‚
â”‚  â”‚      â”œâ”€â”€ index.html                                   â”‚ â”‚
â”‚  â”‚      â”œâ”€â”€ app.js                                       â”‚ â”‚
â”‚  â”‚      â””â”€â”€ style.css                                    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â–²
                         â”‚
                    Docker Volumes
                         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Host Machine                              â”‚
â”‚                                                              â”‚
â”‚  ./backend/  â†â†’  /var/www/html/backend/                     â”‚
â”‚  ./frontend/ â†â†’  /var/www/html/frontend/                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ĞŸĞ¾Ñ‚Ğ¾Ğº Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²

### 1. Frontend Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ (/)

```
Browser â†’ http://localhost:8000/
    â†“
Docker Port 8000
    â†“
Nginx (listen 8000)
    â†“
location = /
    â†“
try_files /frontend/index.html
    â†“
/var/www/html/frontend/index.html
    â†“
Response: HTML ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ°
```

### 2. Ğ¡Ñ‚Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ñ„Ğ°Ğ¹Ğ»Ñ‹ (CSS, JS)

```
Browser â†’ http://localhost:8000/style.css
    â†“
Docker Port 8000
    â†“
Nginx (listen 8000)
    â†“
location ~ ^/(style\.css|app\.js|...)
    â†“
root /var/www/html/frontend
    â†“
/var/www/html/frontend/style.css
    â†“
Response: CSS Ñ„Ğ°Ğ¹Ğ»
```

### 3. API Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ

```
Browser â†’ http://localhost:8000/backend/api/warehouses.php
    â†“
Docker Port 8000
    â†“
Nginx (listen 8000)
    â†“
location ~ ^/backend/api/.*\.php$
    â†“
fastcgi_pass 127.0.0.1:9000
    â†“
PHP-FPM
    â†“
Execute: /var/www/html/backend/api/warehouses.php
    â†“
require: ../services/SbisService.php
    â†“
require: ../config.php
    â†“
Response: JSON
```

## ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹

### Nginx
- **Ğ Ğ¾Ğ»ÑŒ:** Ğ’ĞµĞ±-ÑĞµÑ€Ğ²ĞµÑ€ Ğ¸ reverse proxy
- **ĞŸĞ¾Ñ€Ñ‚:** 8000
- **Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¸:**
  - ĞĞ±ÑĞ»ÑƒĞ¶Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğµ ÑÑ‚Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ñ… Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²
  - ĞŸÑ€Ğ¾ĞºÑĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ PHP Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ² Ğ½Ğ° PHP-FPM
  - ĞœĞ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²
  - Ğ›Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

### PHP-FPM
- **Ğ Ğ¾Ğ»ÑŒ:** FastCGI Process Manager Ğ´Ğ»Ñ PHP
- **ĞŸĞ¾Ñ€Ñ‚:** 9000 (Ğ²Ğ½ÑƒÑ‚Ñ€ĞµĞ½Ğ½Ğ¸Ğ¹)
- **Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¸:**
  - Ğ’Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ğµ PHP ÑĞºÑ€Ğ¸Ğ¿Ñ‚Ğ¾Ğ²
  - ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° API Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²
  - Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑĞ°Ğ¼Ğ¸ PHP

### Docker Volumes
- **Ğ Ğ¾Ğ»ÑŒ:** Ğ¡Ğ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ ĞºĞ¾Ğ´Ğ° Ğ¼ĞµĞ¶Ğ´Ñƒ Ñ…Ğ¾ÑÑ‚Ğ¾Ğ¼ Ğ¸ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ¾Ğ¼
- **Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¸:**
  - ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ĞºĞ¾Ğ´Ğ° Ğ±ĞµĞ· Ğ¿ĞµÑ€ĞµÑĞ±Ğ¾Ñ€ĞºĞ¸
  - Ğ Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ² Ñ€ĞµĞ°Ğ»ÑŒĞ½Ğ¾Ğ¼ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸
  - ĞŸĞµÑ€ÑĞ¸ÑÑ‚ĞµĞ½Ñ‚Ğ½Ğ¾ÑÑ‚ÑŒ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

## Ğ¤Ğ°Ğ¹Ğ»Ğ¾Ğ²Ğ°Ñ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°

```
Project Root
â”œâ”€â”€ Docker Configuration
â”‚   â”œâ”€â”€ Dockerfile              # ĞĞ±Ñ€Ğ°Ğ· ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ°
â”‚   â”œâ”€â”€ docker-compose.yml      # ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ ÑĞµÑ€Ğ²Ğ¸ÑĞ¾Ğ²
â”‚   â”œâ”€â”€ nginx.conf              # ĞÑĞ½Ğ¾Ğ²Ğ½Ğ°Ñ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ Nginx
â”‚   â”œâ”€â”€ default.conf            # Ğ’Ğ¸Ñ€Ñ‚ÑƒĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ñ…Ğ¾ÑÑ‚
â”‚   â”œâ”€â”€ .dockerignore           # Ğ˜ÑĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ñ Ğ´Ğ»Ñ Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ°
â”‚   â””â”€â”€ php.ini.example         # ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾ĞµĞº PHP
â”‚
â”œâ”€â”€ Application Code
â”‚   â”œâ”€â”€ backend/                # PHP ĞºĞ¾Ğ´
â”‚   â”‚   â”œâ”€â”€ api/               # API endpoints
â”‚   â”‚   â”œâ”€â”€ services/          # Ğ‘Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ°
â”‚   â”‚   â””â”€â”€ config.php         # ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
â”‚   â””â”€â”€ frontend/              # Ğ¡Ñ‚Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ñ„Ğ°Ğ¹Ğ»Ñ‹
â”‚       â”œâ”€â”€ index.html         # HTML
â”‚       â”œâ”€â”€ app.js             # JavaScript
â”‚       â””â”€â”€ style.css          # CSS
â”‚
â”œâ”€â”€ Documentation
â”‚   â”œâ”€â”€ START_HERE.md          # ĞĞ°Ñ‡Ğ½Ğ¸Ñ‚Ğµ Ğ·Ğ´ĞµÑÑŒ
â”‚   â”œâ”€â”€ QUICK_START.md         # Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ ÑÑ‚Ğ°Ñ€Ñ‚
â”‚   â”œâ”€â”€ DOCKER_README.md       # ĞŸĞ¾Ğ»Ğ½Ğ°Ñ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ
â”‚   â”œâ”€â”€ API_EXAMPLES.md        # ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ñ‹ API
â”‚   â”œâ”€â”€ CHECKLIST.md           # Ğ§ĞµĞºĞ»Ğ¸ÑÑ‚
â”‚   â”œâ”€â”€ ARCHITECTURE.md        # ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° (ÑÑ‚Ğ¾Ñ‚ Ñ„Ğ°Ğ¹Ğ»)
â”‚   â””â”€â”€ DOCKER_FILES_SUMMARY.md # Ğ¡Ğ²Ğ¾Ğ´ĞºĞ° Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²
â”‚
â””â”€â”€ Testing
    â”œâ”€â”€ test-docker.sh         # Ğ¢ĞµÑÑ‚ (Linux/Mac)
    â””â”€â”€ test-docker.bat        # Ğ¢ĞµÑÑ‚ (Windows)
```

## Ğ¡ĞµÑ‚ĞµĞ²Ğ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Host Machine                  â”‚
â”‚                                         â”‚
â”‚  Port 8000 (exposed)                   â”‚
â”‚      â†“                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Docker Container (php-app)     â”‚  â”‚
â”‚  â”‚                                  â”‚  â”‚
â”‚  â”‚  Port 8000 â†’ Nginx              â”‚  â”‚
â”‚  â”‚  Port 9000 â†’ PHP-FPM (internal) â”‚  â”‚
â”‚  â”‚                                  â”‚  â”‚
â”‚  â”‚  Network: bridge (default)      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ĞŸÑ€Ğ¾Ñ†ĞµÑÑÑ‹ Ğ² ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğµ

```
Container: php-app
â”œâ”€â”€ PID 1: /start.sh (entry point)
â”‚   â”œâ”€â”€ php-fpm -D (daemon mode)
â”‚   â”‚   â”œâ”€â”€ php-fpm: master process
â”‚   â”‚   â”œâ”€â”€ php-fpm: pool www (worker 1)
â”‚   â”‚   â”œâ”€â”€ php-fpm: pool www (worker 2)
â”‚   â”‚   â””â”€â”€ php-fpm: pool www (worker 3)
â”‚   â”‚
â”‚   â””â”€â”€ nginx -g "daemon off;" (foreground)
â”‚       â”œâ”€â”€ nginx: master process
â”‚       â””â”€â”€ nginx: worker process
```

## Ğ›Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

```
Logs Location
â”œâ”€â”€ Nginx
â”‚   â”œâ”€â”€ /var/log/nginx/access.log      # Ğ’ÑĞµ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑ‹
â”‚   â”œâ”€â”€ /var/log/nginx/error.log       # ĞÑˆĞ¸Ğ±ĞºĞ¸ Nginx
â”‚   â””â”€â”€ /var/log/nginx/app-access.log  # Ğ—Ğ°Ğ¿Ñ€Ğ¾ÑÑ‹ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ
â”‚
â””â”€â”€ PHP-FPM
    â””â”€â”€ /var/log/php-fpm/error.log     # ĞÑˆĞ¸Ğ±ĞºĞ¸ PHP

ĞŸÑ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€:
$ docker-compose logs -f              # Ğ’ÑĞµ Ğ»Ğ¾Ğ³Ğ¸
$ docker exec php-app tail -f /var/log/nginx/access.log
$ docker exec php-app tail -f /var/log/nginx/error.log
```

## Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ

### ĞĞ°ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ½Ñ‹Ğµ Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸Ñ:

1. **Ğ—Ğ°Ğ¿Ñ€ĞµÑ‚ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ° Ğº ÑĞºÑ€Ñ‹Ñ‚Ñ‹Ğ¼ Ñ„Ğ°Ğ¹Ğ»Ğ°Ğ¼**
   - `.htaccess`, `.git`, `.env` Ğ¸ Ñ‚.Ğ´.

2. **Ğ—Ğ°Ğ¿Ñ€ĞµÑ‚ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ° Ğº ÑĞ»ÑƒĞ¶ĞµĞ±Ğ½Ñ‹Ğ¼ Ñ„Ğ°Ğ¹Ğ»Ğ°Ğ¼**
   - `.ini`, `.log`, `.sh`, `.sql`

3. **CORS Ğ½Ğ°ÑÑ‚Ñ€Ğ¾ĞµĞ½ Ğ´Ğ»Ñ API**
   - `Access-Control-Allow-Origin: *`
   - `Access-Control-Allow-Methods: GET, POST, OPTIONS`

4. **ĞŸÑ€Ğ°Ğ²Ğ° Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ°**
   - Ğ’Ğ»Ğ°Ğ´ĞµĞ»ĞµÑ†: `www-data:www-data`
   - ĞŸÑ€Ğ°Ğ²Ğ°: `755` Ğ´Ğ»Ñ Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ğ¹ Ğ¸ Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²

## ĞŸÑ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ

### ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ PHP-FPM:
- `pm = dynamic`
- `pm.max_children = 5`
- `pm.start_servers = 2`
- `pm.min_spare_servers = 1`
- `pm.max_spare_servers = 3`

### ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Nginx:
- `worker_processes = auto`
- `worker_connections = 1024`
- Gzip ÑĞ¶Ğ°Ñ‚Ğ¸Ğµ Ğ²ĞºĞ»ÑÑ‡ĞµĞ½Ğ¾
- ĞšÑÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ ÑÑ‚Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ñ… Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ² (1 Ğ´ĞµĞ½ÑŒ)

## ĞœĞ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

Ğ”Ğ»Ñ production Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒĞµÑ‚ÑÑ:

1. **Ğ Ğ°Ğ·Ğ´ĞµĞ»Ğ¸Ñ‚ÑŒ ÑĞµÑ€Ğ²Ğ¸ÑÑ‹**
   ```yaml
   services:
     nginx:
       image: nginx:latest
     php:
       image: php:7.4-fpm
   ```

2. **Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ²Ğ½ĞµÑˆĞ½ÑÑ Ğ‘Ğ”**
   ```yaml
   services:
     db:
       image: mysql:8.0
   ```

3. **Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Redis Ğ´Ğ»Ñ ĞºÑÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ**
   ```yaml
   services:
     redis:
       image: redis:alpine
   ```

4. **ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¸Ñ‚ÑŒ Ğ±Ğ°Ğ»Ğ°Ğ½ÑĞ¸Ñ€Ğ¾Ğ²ĞºÑƒ Ğ½Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸**
   - ĞĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¾ PHP-FPM ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ¾Ğ²
   - Nginx upstream

---

**ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ° Ğº Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ! ğŸš€**
