# Сборка проекта

## Локальная разработка

### Установка зависимостей
```bash
npm install
```

### Разработка с автопересборкой
```bash
npm run watch
```
Автоматически пересобирает при изменении файлов в `frontend/`

### Одноразовая сборка
```bash
npm run build
```

## Продакшн деплой

### Сборка и запуск контейнера
```bash
docker-compose up --build
```

Что происходит при сборке контейнера:
1. Устанавливается Node.js
2. Копируются исходники из `frontend/`
3. Устанавливаются npm зависимости
4. Запускается `npm run build` - создаются минифицированные файлы в `dist/`
5. Удаляются `node_modules` для уменьшения размера образа
6. Nginx отдает собранные файлы из `dist/`

## Что делает сборка:
- Минифицирует JS и CSS
- Удаляет console.log из кода
- Добавляет хеши к файлам для автообновления (main-EwRKEcp5.js)
- Оптимизирует код

## Nginx
- Gzip сжатие для всех статических ресурсов
- Кеширование собранных файлов на 1 год
- Размеры после gzip: HTML ~2KB, CSS ~1.4KB, JS ~2KB

## Обновление кода на проде
1. Изменяете файлы в `frontend/`
2. Коммитите изменения
3. На сервере: `docker-compose up --build`
4. Контейнер пересобирается с новыми файлами


